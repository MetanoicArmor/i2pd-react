# üìä I2P Daemon - –í–µ–±-–∫–æ–Ω—Å–æ–ª—å –∏ API

## üåê –í–µ–±-–∫–æ–Ω—Å–æ–ª—å i2pd

–°–æ–≥–ª–∞—Å–Ω–æ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ i2pd](https://i2pd.readthedocs.io/en/latest/), –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è i2pd –¥–µ–º–æ–Ω–æ–º.

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ü–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: `7070`  
**–ê–¥—Ä–µ—Å**: `http://127.0.0.1:7070`

–í —Ñ–∞–π–ª–µ `i2pd.conf`:

```ini
[http]
## Web Console settings
enabled = true
address = 127.0.0.1
port = 7070
webroot = /
```

### üìÑ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - `http://127.0.0.1:7070/`
   - –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏
   - –°—Ç–∞—Ç—É—Å –¥–µ–º–æ–Ω–∞
   - Uptime, —Ç—É–Ω–Ω–µ–ª–∏, —Ä–æ—É—Ç–µ—Ä—ã
   - –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ/–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

2. **–¢—É–Ω–Ω–µ–ª–∏** - `http://127.0.0.1:7070/?page=tunnels`
   - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Ç—É–Ω–Ω–µ–ª–µ–π
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —Ç—É–Ω–Ω–µ–ª–µ

3. **–¢—Ä–∞–Ω–∑–∏—Ç–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏** - `http://127.0.0.1:7070/?page=transit_tunnels`
   - –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∏—Ç–Ω—ã—Ö —Ç—É–Ω–Ω–µ–ª–µ–π
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞–Ω–∑–∏—Ç–∞

4. **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã** - `http://127.0.0.1:7070/?page=transports`
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö
   - NTCP2, SSU2 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

5. **SAM —Å–µ—Å—Å–∏–∏** - `http://127.0.0.1:7070/?page=sam_sessions`
   - –ê–∫—Ç–∏–≤–Ω—ã–µ SAM —Å–µ—Å—Å–∏–∏

6. **I2CP —Å–µ—Å—Å–∏–∏** - `http://127.0.0.1:7070/?page=i2cp_local_destination`
   - –õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è I2CP

## üìä –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –ú–µ—Ç–æ–¥ 1: –ü–∞—Ä—Å–∏–Ω–≥ HTML (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)

–í–µ–±-–∫–æ–Ω—Å–æ–ª—å i2pd –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –ú—ã –ø–∞—Ä—Å–∏–º HTML –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

```javascript
// –ü—Ä–∏–º–µ—Ä –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
const html = await fetch('http://127.0.0.1:7070');
const text = await html.text();

// –ü–∞—Ä—Å–∏–º Uptime
const uptimeMatch = text.match(/Uptime:\s*(\d+:\d+:\d+)/i);

// –ü–∞—Ä—Å–∏–º Tunnels
const tunnelsMatch = text.match(/Tunnels:\s*(\d+)/i);

// –ü–∞—Ä—Å–∏–º Routers
const routersMatch = text.match(/Routers:\s*(\d+)/i);

// –ü–∞—Ä—Å–∏–º Received/Sent
const receivedMatch = text.match(/Received:\s*([\d.]+)\s*(\w+)/i);
const sentMatch = text.match(/Sent:\s*([\d.]+)\s*(\w+)/i);
```

### –ú–µ—Ç–æ–¥ 2: I2PControl (JSON API)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª I2PControl, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç JSON API.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `i2pd.conf`:

```ini
[i2pcontrol]
enabled = true
address = 127.0.0.1
port = 7650
password = itoopie
```

I2PControl –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç JSON-RPC API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

```javascript
// –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ I2PControl
const request = {
  id: 1,
  method: "RouterInfo",
  params: {
    "i2p.router.uptime": "",
    "i2p.router.net.tunnels.participating": "",
    "i2p.router.netdb.knownpeers": ""
  },
  jsonrpc: "2.0"
};

const response = await fetch('http://127.0.0.1:7650', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify(request)
});
```

–û–¥–Ω–∞–∫–æ, I2PControl –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## üîå –î—Ä—É–≥–∏–µ –ø–æ—Ä—Ç—ã

- **HTTP Proxy**: `4444` - HTTP –ø—Ä–æ–∫—Å–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ .i2p —Å–∞–π—Ç–∞–º
- **SOCKS Proxy**: `4447` - SOCKS –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Web Console**: `7070` - –í–µ–±-–∫–æ–Ω—Å–æ–ª—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **I2PControl**: `7650` - JSON-RPC API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **SAM**: `7656` - SAM API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **BOB**: `2827` - BOB API (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π)

## ‚úÖ –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º:

1. **–ü–æ—Ä—Ç 7070** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å
2. **–ü–∞—Ä—Å–∏–Ω–≥ HTML** –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
3. **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

### –ü–æ–ª—É—á–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:

- ‚úÖ **Uptime** - –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –¥–µ–º–æ–Ω–∞
- ‚úÖ **Network status** - —Å—Ç–∞—Ç—É—Å —Å–µ—Ç–∏
- ‚úÖ **Tunnels** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—É–Ω–Ω–µ–ª–µ–π
- ‚úÖ **Routers** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ—É—Ç–µ—Ä–æ–≤
- ‚úÖ **Received/Sent** - –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ/–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **Transit tunnels** - —Ç—Ä–∞–Ω–∑–∏—Ç–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏
- ‚úÖ **Client tunnels** - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ç—É–Ω–Ω–µ–ª–∏
- ‚úÖ **Data path** - –ø—É—Ç—å –∫ –¥–∞–Ω–Ω—ã–º

## üöÄ –£–ª—É—á—à–µ–Ω–∏—è

–î–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –º–æ–∂–Ω–æ:

1. **–í–∫–ª—é—á–∏—Ç—å I2PControl** –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON API
2. **–ü–∞—Ä—Å–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (tunnels, transports)
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SAM API** –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥-—Ñ–∞–π–ª—ã** i2pd –¥–ª—è —Å–æ–±—ã—Ç–∏–π

## üìñ –°—Å—ã–ª–∫–∏

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è i2pd](https://i2pd.readthedocs.io/en/latest/)
- [I2P Network Documentation](https://geti2p.net/ru/docs)
- [I2PControl Specification](https://geti2p.net/spec/i2pcontrol)
- [SAM API](https://geti2p.net/en/docs/api/samv3)

