const fs = require('fs');
const path = require('path');

// Создаем простую PNG иконку программно
function createSimpleIcon() {
  // Простая иконка 32x32 пикселя в формате PNG
  const iconData = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
    0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x20, // 32x32 dimensions
    0x08, 0x06, 0x00, 0x00, 0x00, 0x73, 0x7A, 0x7A, // 8-bit RGBA
    0xF4, 0x00, 0x00, 0x00, 0x19, 0x74, 0x45, 0x58, // tEXt chunk
    0x74, 0x53, 0x6F, 0x66, 0x74, 0x77, 0x61, 0x72,
    0x65, 0x00, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20,
    0x49, 0x6D, 0x61, 0x67, 0x65, 0x52, 0x65, 0x61,
    0x64, 0x79, 0x71, 0xC9, 0x65, 0x3C, 0x00, 0x00,
    0x00, 0x0A, 0x49, 0x44, 0x41, 0x54, 0x78, 0xDA,
    0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01,
    0x0D, 0x0A, 0x2D, 0xB4, 0x00, 0x00, 0x00, 0x00,
    0x49, 0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
  ]);

  const iconPath = path.join(__dirname, 'public', 'icon.png');
  fs.writeFileSync(iconPath, iconData);
  console.log('✅ Простая иконка создана:', iconPath);
}

// Создаем иконку для трея
function createTrayIcon() {
  // Простая иконка трея 16x16 пикселя
  const trayIconData = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
    0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, // 16x16 dimensions
    0x08, 0x06, 0x00, 0x00, 0x00, 0x1F, 0xF3, 0xFF, // 8-bit RGBA
    0x61, 0x00, 0x00, 0x00, 0x19, 0x74, 0x45, 0x58, // tEXt chunk
    0x74, 0x53, 0x6F, 0x66, 0x74, 0x77, 0x61, 0x72,
    0x65, 0x00, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20,
    0x49, 0x6D, 0x61, 0x67, 0x65, 0x52, 0x65, 0x61,
    0x64, 0x79, 0x71, 0xC9, 0x65, 0x3C, 0x00, 0x00,
    0x00, 0x0A, 0x49, 0x44, 0x41, 0x54, 0x78, 0xDA,
    0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01,
    0x0D, 0x0A, 0x2D, 0xB4, 0x00, 0x00, 0x00, 0x00,
    0x49, 0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
  ]);

  const trayIconPath = path.join(__dirname, 'public', 'tray-icon.png');
  fs.writeFileSync(trayIconPath, trayIconData);
  console.log('✅ Иконка трея создана:', trayIconPath);
}

// Создаем обе иконки
createSimpleIcon();
createTrayIcon();

