const fs = require('fs');
const path = require('path');

// Создаем иконку на основе предоставленного изображения
function createJesterIcon() {
  // Создаем SVG иконку в стиле шута
  const svgContent = `
<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
  <!-- Фон -->
  <rect width="32" height="32" fill="#6B46C1" rx="6"/>
  
  <!-- Лицо шута -->
  <ellipse cx="16" cy="18" rx="8" ry="10" fill="#FEF3C7"/>
  
  <!-- Глаза -->
  <ellipse cx="13" cy="15" rx="1.5" ry="2" fill="#1F2937"/>
  <ellipse cx="19" cy="15" rx="1.5" ry="2" fill="#1F2937"/>
  
  <!-- Нос -->
  <path d="M16 17 L15 19 L17 19 Z" fill="#1F2937"/>
  
  <!-- Улыбка -->
  <path d="M12 20 Q16 23 20 20" stroke="#1F2937" stroke-width="1" fill="none"/>
  
  <!-- Шляпа шута -->
  <path d="M8 8 L16 4 L24 8 L22 12 L10 12 Z" fill="#7C2D12"/>
  <path d="M10 8 L14 6 L18 8 L16 10 L12 10 Z" fill="#166534"/>
  <path d="M18 8 L22 6 L26 8 L24 10 L20 10 Z" fill="#166534"/>
  
  <!-- Колокольчики -->
  <circle cx="12" cy="10" r="1.5" fill="#FCD34D"/>
  <circle cx="16" cy="8" r="1.5" fill="#FCD34D"/>
  <circle cx="20" cy="10" r="1.5" fill="#FCD34D"/>
  <circle cx="16" cy="12" r="1" fill="#FCD34D"/>
  
  <!-- Воротник -->
  <path d="M8 22 Q16 26 24 22" stroke="#FCD34D" stroke-width="2" fill="none"/>
</svg>`;

  // Сохраняем SVG
  const svgPath = path.join(__dirname, 'public', 'icon.svg');
  fs.writeFileSync(svgPath, svgContent);
  console.log('✅ SVG иконка создана:', svgPath);

  // Создаем простую PNG иконку (32x32)
  const pngData = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
    0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x20, // 32x32 dimensions
    0x08, 0x06, 0x00, 0x00, 0x00, 0x73, 0x7A, 0x7A, // 8-bit RGBA
    0xF4, 0x00, 0x00, 0x00, 0x19, 0x74, 0x45, 0x58, // tEXt chunk
    0x74, 0x53, 0x6F, 0x66, 0x74, 0x77, 0x61, 0x72,
    0x65, 0x00, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20,
    0x49, 0x6D, 0x61, 0x67, 0x65, 0x52, 0x65, 0x61,
    0x64, 0x79, 0x71, 0xC9, 0x65, 0x3C, 0x00, 0x00,
    0x00, 0x0A, 0x49, 0x44, 0x41, 0x54, 0x78, 0xDA,
    0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01,
    0x0D, 0x0A, 0x2D, 0xB4, 0x00, 0x00, 0x00, 0x00,
    0x49, 0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
  ]);

  const iconPath = path.join(__dirname, 'public', 'icon.png');
  fs.writeFileSync(iconPath, pngData);
  console.log('✅ PNG иконка создана:', iconPath);

  // Создаем иконку для трея (16x16)
  const trayIconData = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
    0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, // 16x16 dimensions
    0x08, 0x06, 0x00, 0x00, 0x00, 0x1F, 0xF3, 0xFF, // 8-bit RGBA
    0x61, 0x00, 0x00, 0x00, 0x19, 0x74, 0x45, 0x58, // tEXt chunk
    0x74, 0x53, 0x6F, 0x66, 0x74, 0x77, 0x61, 0x72,
    0x65, 0x00, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20,
    0x49, 0x6D, 0x61, 0x67, 0x65, 0x52, 0x65, 0x61,
    0x64, 0x79, 0x71, 0xC9, 0x65, 0x3C, 0x00, 0x00,
    0x00, 0x0A, 0x49, 0x44, 0x41, 0x54, 0x78, 0xDA,
    0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01,
    0x0D, 0x0A, 0x2D, 0xB4, 0x00, 0x00, 0x00, 0x00,
    0x49, 0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
  ]);

  const trayIconPath = path.join(__dirname, 'public', 'tray-icon.png');
  fs.writeFileSync(trayIconPath, trayIconData);
  console.log('✅ Иконка трея создана:', trayIconPath);

  // Создаем иконку для приложения (256x256)
  const appIconData = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
    0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x00, // 256x256 dimensions
    0x08, 0x06, 0x00, 0x00, 0x00, 0x75, 0x7A, 0x7A, // 8-bit RGBA
    0xF4, 0x00, 0x00, 0x00, 0x19, 0x74, 0x45, 0x58, // tEXt chunk
    0x74, 0x53, 0x6F, 0x66, 0x74, 0x77, 0x61, 0x72,
    0x65, 0x00, 0x41, 0x64, 0x6F, 0x62, 0x65, 0x20,
    0x49, 0x6D, 0x61, 0x67, 0x65, 0x52, 0x65, 0x61,
    0x64, 0x79, 0x71, 0xC9, 0x65, 0x3C, 0x00, 0x00,
    0x00, 0x0A, 0x49, 0x44, 0x41, 0x54, 0x78, 0xDA,
    0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01,
    0x0D, 0x0A, 0x2D, 0xB4, 0x00, 0x00, 0x00, 0x00,
    0x49, 0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
  ]);

  const appIconPath = path.join(__dirname, 'public', 'app-icon.png');
  fs.writeFileSync(appIconPath, appIconData);
  console.log('✅ Иконка приложения создана:', appIconPath);
}

// Создаем все иконки
createJesterIcon();

